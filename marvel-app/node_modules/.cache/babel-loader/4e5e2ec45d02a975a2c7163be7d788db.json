{"ast":null,"code":"import axios from\"axios\";import{useEffect}from\"react\";import ComicDetailScreen from\"./ComicDetails\";import{useNavigate}from\"react-router-dom\";import{Tab,Tabs}from\"@mui/material\";import\"./App.css\";import{useDispatch,useSelector}from\"react-redux\";import{setHeroComicData,clearComicsData,setComicsData}from\"./reducers\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var styles={title:{color:\"red\",padding:\"10px\",margin:\"auto\",textShadow:\"2px 1px 3px white\"},tab:{justifyItems:\"center\",cursor:\"pointer\"},tabs:{color:\"white\",fontWeight:\"bold\"}};function ComicScreen(){var heroComic=useSelector(function(state){return state.marvel.heroComicData;});var comicsDetailsData=useSelector(function(state){return state.marvel.comicsData;});var dispatch=useDispatch();var navigate=useNavigate();var homeScreen=function homeScreen(){navigate(\"/home\");};var characterScreen=function characterScreen(){navigate(\"/characterview\");};useEffect(function(){HeroComic();},[]);var HeroComic=function HeroComic(){dispatch(clearComicsData());var url=\"https://gateway.marvel.com/v1/public/characters/1011334?ts=100&apikey=57c07708bb14e463126483f2889b35eb&hash=c41cec366ac6c477f37e5a15e5717be2\";axios.get(url).then(function(response){// console.log(\"ComicScreen1 response: \", response);\ndispatch(setHeroComicData(response.data.data.results[0].comics.items));getComisData();}).catch(function(error){console.log(\"Error marvel: \",error);});};var getComisData=function getComisData(){heroComic.map(function(item,index){var url=item.resourceURI+\"?ts=100&apikey=57c07708bb14e463126483f2889b35eb&hash=c41cec366ac6c477f37e5a15e5717be2\";console.log(\"index \"+index+\" \",url);axios.get(url).then(function(response){console.log(\"comic response = \",response.data.data.results[0]);dispatch(setComicsData(response.data.data.results[0]));}).catch(function(error){console.log(\"Error marvel: \",error);});});};return/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"div\",{children:/*#__PURE__*/_jsx(\"header\",{className:\"header\",children:/*#__PURE__*/_jsxs(Tabs,{className:\"tab\",\"aria-label\":\"basic tabs example\",style:styles.tab,children:[/*#__PURE__*/_jsx(\"h1\",{children:\"MARVEL\"}),/*#__PURE__*/_jsx(Tab,{label:\"HOME\",onClick:homeScreen,style:styles.tabs}),/*#__PURE__*/_jsx(Tab,{label:\"HEROES\",onClick:characterScreen,style:styles.tabs})]})})}),comicsDetailsData&&comicsDetailsData.map(function(comicsDetailsData,keyHeroComic){return/*#__PURE__*/_jsx(ComicDetailScreen,{comicURL:comicsDetailsData});})]});}export default ComicScreen;","map":{"version":3,"names":["axios","useEffect","ComicDetailScreen","useNavigate","Tab","Tabs","useDispatch","useSelector","setHeroComicData","clearComicsData","setComicsData","styles","title","color","padding","margin","textShadow","tab","justifyItems","cursor","tabs","fontWeight","ComicScreen","heroComic","state","marvel","heroComicData","comicsDetailsData","comicsData","dispatch","navigate","homeScreen","characterScreen","HeroComic","url","get","then","response","data","results","comics","items","getComisData","catch","error","console","log","map","item","index","resourceURI","keyHeroComic"],"sources":["/Users/tan.jiawen/Documents/marvel/marvel-app/src/Comic.js"],"sourcesContent":["import axios from \"axios\";\nimport { useEffect } from \"react\";\nimport ComicDetailScreen from \"./ComicDetails\";\nimport { useNavigate } from \"react-router-dom\";\nimport { Tab, Tabs } from \"@mui/material\";\nimport \"./App.css\";\nimport { useDispatch, useSelector } from \"react-redux\";\nimport { setHeroComicData, clearComicsData, setComicsData } from \"./reducers\";\n\nconst styles = {\n  title: {\n    color: \"red\",\n    padding: \"10px\",\n    margin: \"auto\",\n    textShadow: \"2px 1px 3px white\",\n  },\n  tab: {\n    justifyItems: \"center\",\n    cursor: \"pointer\",\n  },\n  tabs: {\n    color: \"white\",\n    fontWeight: \"bold\",\n  },\n};\n\nfunction ComicScreen() {\n  const heroComic = useSelector((state) => state.marvel.heroComicData);\n  const comicsDetailsData = useSelector((state) => state.marvel.comicsData);\n  const dispatch = useDispatch();\n\n  const navigate = useNavigate();\n\n  const homeScreen = () => {\n    navigate(\"/home\");\n  };\n\n  const characterScreen = () => {\n    navigate(\"/characterview\");\n  };\n  useEffect(() => {\n    HeroComic();\n  }, []);\n\n  const HeroComic = () => {\n    dispatch(clearComicsData());\n\n    const url =\n      \"https://gateway.marvel.com/v1/public/characters/1011334?ts=100&apikey=57c07708bb14e463126483f2889b35eb&hash=c41cec366ac6c477f37e5a15e5717be2\";\n    axios\n      .get(url)\n      .then((response) => {\n        // console.log(\"ComicScreen1 response: \", response);\n        dispatch(setHeroComicData(response.data.data.results[0].comics.items));\n        getComisData();\n      })\n      .catch((error) => {\n        console.log(\"Error marvel: \", error);\n      });\n  };\n\n  const getComisData = () => {\n    heroComic.map((item, index) => {\n      let url =\n        item.resourceURI +\n        \"?ts=100&apikey=57c07708bb14e463126483f2889b35eb&hash=c41cec366ac6c477f37e5a15e5717be2\";\n\n      console.log(\"index \" + index + \" \", url);\n      axios\n        .get(url)\n        .then((response) => {\n          console.log(\"comic response = \", response.data.data.results[0]);\n          dispatch(setComicsData(response.data.data.results[0]));\n        })\n        .catch((error) => {\n          console.log(\"Error marvel: \", error);\n        });\n    });\n  };\n\n  return (\n    <div>\n      <div>\n        <header className=\"header\">\n          <Tabs\n            className=\"tab\"\n            aria-label=\"basic tabs example\"\n            style={styles.tab}\n          >\n            <h1>MARVEL</h1>\n            <Tab label=\"HOME\" onClick={homeScreen} style={styles.tabs} />\n            <Tab label=\"HEROES\" onClick={characterScreen} style={styles.tabs} />\n          </Tabs>\n        </header>\n      </div>\n      {comicsDetailsData &&\n        comicsDetailsData.map((comicsDetailsData, keyHeroComic) => (\n          <ComicDetailScreen comicURL={comicsDetailsData} />\n        ))}\n    </div>\n  );\n}\n\nexport default ComicScreen;\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}